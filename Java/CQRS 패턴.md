# CQRS 패턴
- **읽기(Query)**와 쓰기(Command) 책임을 분리해서 성능, 확장성, 유지보수를 개선하는 아키텍처 패턴
- 조회(Query)**랑 **명령(Command)**을 **완전히 분리해서 처리하자!

| 용어          | 뜻                             |
| ----------- | ----------------------------- |
| **Command** | 데이터 변경 요청 → 생성, 수정, 삭제 등 (쓰기) |
| **Query**   | 데이터 조회 요청 → 읽기                |


## 왜 굳이 분리하나요?
- Command와 Query가 같은 모델, 같은 DB, 같은 서비스 로직 안에 뒤섞여 있음.
- -> 읽기/쓰기 성격이 너무 다름. 성능 최적화 하기도 어렵고 규모가 커지면 유지보수가 힘들어짐

# 예시
~~~text
Command → UserCommandService → 쓰기 전용 DB
Query   → UserQueryService   → 읽기 전용 DB
~~~
- Command는 데이터 변경만 담당 (DB 쓰기)
- Query는 데이터 조회만 담당 (DB 읽기)
- 각각 다른 모델/DB/서비스 구조를 가질 수도 있음

## ✅ 언제 좋냐면?
- 조회 트래픽이 쓰기보다 훨씬 많은 경우 (예: 피드, 댓글 보기)
- 조회 쪽은 빠르게 캐싱하고, 쓰기는 신중하게 트랜잭션 처리하고 싶을 때
- 마이크로서비스 아키텍처에서 서비스 간 책임을 더 명확히 나누고 싶을 때