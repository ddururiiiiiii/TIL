# 프로세스 스케줄러

## 프로세스 스케줄러

- CPU자원을 여러 프로세스에 효율적으로 배분하는 역할.

## 경과시간과 사용시간

- 경과시간 (**Elapsed Time**) : 프로그램이 실행을 시작한 후 종료될 때까지의 실제 시간
- 사용시간 (**User Time + System Time**) : CPU가 프로그램 실행을 위해 실제로 일한 시간
    - **User Time**: 프로그램의 사용자 코드 실행에 사용된 시간.
    - **System Time**: 시스템 호출이나 커널 작업을 처리하는 데 사용된 시간.

## **논리 CPU 하나만 사용하는 경우와 여러 개를 사용하는 경우**

### **하나의 논리 CPU를 사용하는 경우**:

- 프로그램은 하나의 CPU에서 순차적으로 실행
- 병렬 처리가 없으므로 User Time + Sys Time ≈ Real Time

### **여러 논리 CPU를 사용하는 경우**:

- 프로그램이 병렬 실행을 지원하면 여러 논리 CPU에서 동시에 작업을 나누어 수행
- 총 사용 시간이 병렬 작업 시간의 합이 되므로 User Time + Sys Time > Real Time

## **타임슬라이스 (Time Slice)**

- CPU는 여러 프로세스를 번갈아 실행하는데 각 프로세스가 CPU를 사용하는 **짧은 시간의 단위**를 **타임슬라이스**
- 타임슬라이스 동안 프로세스가 실행된 후, 다음 프로세스가 실행됨 이를 통해 여러 프로세스가 공평하게 CPU를 사용할 수 있음.

## **컨텍스트 스위치 (Context Switch)**

- 하나의 프로세스를 실행하다가 다른 프로세스를 실행하려면, 현재 프로세스의 상태(레지스터, 메모리 등)를 저장하고, 새로운 프로세스의 상태를 로드해야 하는데. 이를 **컨텍스트 스위치**라고 함.
- 컨텍스트 스위치는 **오버헤드**(추가적인 처리 비용)를 발생시키므로, 너무 자주 일어나면 처리 성능이 떨어짐.

## **처리 성능 (Throughput)**

- 처리 성능은 단위 시간 동안 완료된 작업의 양을 의미
- 스케줄러의 역할은 처리 성능을 최대화하면서, 대기 시간을 최소화하고, 공평성을 보장하는 것.

## **프로그램 병렬 실행의 중요성**

- CPU가 여러 개일 때, 프로그램이 병렬로 실행되면 작업 처리 속도가 크게 빨라짐.
    - 예: 대규모 데이터 처리를 병렬로 수행하면 전체 실행 시간이 단축

## 카피 온 라이트 (Copy-On-Write)
- 프로세스를 복사할 때, 처음부터 모든 메모리를 복사하는 대신, 읽기 전용으로 공유해 효율을 높이는 기술.
- 변경이 발생할 때만 해당 페이지를 복사.
예: 부모 프로세스가 자식을 생성할 때 빠르게 처리하기 위해 사용.

## Demand Paging
- 메모리에 프로그램 전체를 로드하지 않고 필요한 부분만 로드.
- 프로그램이 실행되면서 실제로 접근되는 페이지만 메모리에 올림.
- 장점: 메모리 효율 극대화.

## 프로세스 통신 (IPC, Inter-Process Communication)
- 서로 다른 프로세스가 데이터를 주고받는 방법.
- 주요 방법:
    - 파이프(Pipe): 한 프로세스의 출력을 다른 프로세스의 입력으로 전달.
    - 소켓(Socket): 네트워크를 통해 데이터를 주고받을 때 사용.
    - 공유 메모리: 프로세스 간 메모리를 공유.
    - 메시지 큐(Message Queue): 메시지를 큐에 저장해 통신.

## 시그널 (Signal)
- 특정 이벤트 발생 시 프로세스에 알림을 보내는 방식.
예: Ctrl+C로 실행 중인 프로그램 종료(프로세스에 SIGINT 신호 전달).

## 파이프 (Pipe)
- 두 프로세스 간 데이터 흐름을 연결하는 터널 같은 것.
- 일반 파이프: 단방향 통신.
- 이름 있는 파이프(FIFO): 파일처럼 이름이 붙어 있어 양방향 통신 가능.

## 소켓 (Socket)
- 네트워크 상의 프로세스 통신 도구.
예: 웹 브라우저와 웹 서버 간 데이터 송수신.

## 배타적 제어
- 여러 프로세스가 같은 자원에 접근할 때 충돌을 방지.
- 자원을 한 번에 한 프로세스만 사용하도록 제어(뮤텍스, 세마포어).

## 멀티 프로세스와 멀티 쓰레드
- 멀티 프로세스: 여러 독립 프로세스를 실행. 각 프로세스는 메모리를 별도로 사용.
- 멀티 쓰레드: 하나의 프로세스 안에서 여러 쓰레드가 메모리를 공유하며 실행.
- 장점/단점:
    - 멀티 프로세스: 안정적이지만 메모리 사용량 높음.
    - 멀티 쓰레드: 메모리 효율적이지만 안정성 낮을 수 있음.

## 커널 스레드와 사용자 스레드
- 커널 스레드: 운영체제가 직접 관리. 문맥 전환이 느리지만 안정적.
- 사용자 스레드: 프로세스가 자체적으로 관리. 빠르지만 운영체제 개입이 적음.