# 무중단 배포(Zero Downtime Deployment)
- 사용자는 배포 중이라는 걸 눈치도 못 채게 하는 배포
- 서비스는 계속 돌리면서, 새 버전으로 자연스럽게 갈아끼우는 것

## 보통의 배포과정은...
- 기존 서버 중지 -> 새 코드 배포 -> 서버 재시작
-이 순간에 접속하던 사용자는?
- ❌ 갑자기 500 에러 뜨고, 응답 지연되고, 로그인 풀리고 난리남

# 무중단 배포 방법
### 1. 🔁 블루-그린 배포 (Blue-Green Deployment)
~~~ plaintext
[Blue 서버] ← 현재 운영 중
[Green 서버] ← 새 버전 미리 배포해둠
~~~
- 새 버전(Green)을 미리 띄워둠
- 다 준비되면 트래픽만 툭! 바꿔줌
- 실패하면 다시 Blue로 되돌릴 수 있음 (롤백 쉬움)

- 👉 한방에 바뀌는 방식
- 👉 AWS Elastic Beanstalk에서 이렇게 사용

## 2. 🌀 롤링 배포 (Rolling Deployment)
~~~ plaintext
[서버 3대 중] 하나씩 교체
1번 서버 종료 → 새 버전 배포 → 정상 확인  
→ 그다음 2번, 3번 차례로
~~~
- 한 번에 전체 안 바꿈
- 하나씩 천천히 바꾸면서 서비스는 계속 제공
- 👉 쿠버네티스에서 주로 이 방식
- 👉 실시간 유저 많은 서비스에 적합


## 추가로 사용하는 방법들
| 기술                         | 역할                           |
| -------------------------- | ---------------------------- |
| **로드 밸런서**                 | 유저 트래픽 분산 / 교체 서버 제외         |
| **헬스 체크**                  | 새 서버가 살아있는지 확인               |
| **세션 클러스터링 / Redis 세션 공유** | 서버 교체돼도 로그인 유지               |
| **DB 마이그레이션 주의**           | 새 버전에서 DB 바뀔 땐 트랜잭션 꼬일 수도 있음 |
