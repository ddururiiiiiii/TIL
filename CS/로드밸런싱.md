# 로드밸런싱
- 여러 서버에 트래픽을 고르게 분산시켜주는 기술
- 동작 : 클라이언트 → 로드밸런서 → 여러 서버 중 하나로 요청 전달
- Nginx, HAProxy, Spring Cloud Gateway, AWS ELB 등에서 구현 가능
- 마이크로서비스에서는 보통 API Gateway에서 수행함

## 왜 필요할까?
- 트래픽 분산 : 서버 과부하 방지
- 장애 대응 : 한 서버 죽어도 다른 서버로 자동 전환
- 확장성 : 서버 늘리면 자동 분산 가능
- 성능 향상 : 빠른 응답, 대기 시간 감소

## 로드 밸런싱 알고리즘

| 알고리즘                     | 설명                               | 예시                               |
| ------------------------ | -------------------------------- | -------------------------------- |
| **Round Robin**          | 서버에 순서대로 돌아가며 분배                 | A → B → C → A → B ...            |
| **Least Connections**    | 현재 접속 수가 **가장 적은 서버**에 요청 전달     | B가 놀고 있음 → B로 보냄                 |
| **IP Hash**              | 클라이언트 IP 기반으로 항상 같은 서버에 요청       | 192.168.1.2 → A, 192.168.1.3 → B |
| **Weighted Round Robin** | 서버마다 **가중치** 설정 (스펙 좋은 서버에 더 많이) | A(가중치 2), B(1) → A → A → B       |
| **Random**               | 서버 중 랜덤으로 선택                     | 그냥 랜덤 돌림                         |



## 🧯주의할 점
- 세션이 서버에 저장되면 문제가 생김 → 해결책: 세션 클러스터링 or JWT 같은 무상태 인증
- 한 서버에만 몰리는 현상 방지하려면 → 적절한 알고리즘 설정 필요