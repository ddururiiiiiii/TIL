# 캐싱 전략

## 캐시란?
- 자주 조회되는 데이터를 미리 저장해두고 빠르게 응답하기 위한 저장소
- 예: DB에 자주 물어보는 질문을 메모리에 저장해두고, 다음부터는 DB 말고 캐시에서 바로 응답

## 🧠 왜 캐시를 쓰는 걸까?
- 속도 향상 – DB나 API 대신 캐시에서 빠르게 꺼내옴
- 트래픽 절감 – 서버나 DB 부하 줄여줌
- 비용 절약 – 외부 API 요금이나 서버 비용 절감

----

## 캐싱 전략의 종류

1. 📦 Read Through
- 캐시에 먼저 조회, 없으면 DB에서 가져와서 캐시에 저장
- get(key) → 캐시 X → DB에서 조회 → 캐시에 저장 → 응답
- ✅ 장점: 캐시 자동 채움
- ❌ 단점: 캐시 미스 시 속도 느림


2. 🧊 Write Through
- 데이터 저장 시 캐시와 DB에 동시에 저장
- save(data) → 캐시에 저장 + DB에 저장
- ✅ 장점: 캐시 항상 최신 상태
- ❌ 단점: 쓰기 성능 느릴 수 있음


3. 📝 Write Behind / Write Back
- 일단 캐시에만 저장하고 나중에 DB에 반영 (비동기)
- save(data) → 캐시에 저장 → 백그라운드에서 DB에 저장
- ✅ 장점: 쓰기 속도 빠름
- ❌ 단점: 장애 나면 DB 반영 안 될 수 있음


4. 🔄 Cache Aside (Lazy Loading)
- 애플리케이션이 직접 캐시를 컨트롤
- 자주 쓰는 방식!
- ✅ 장점: 유연함, 캐시 망가져도 동작

----

## 캐시 무효화 전략 (언제 캐시를 지울지)
1. TTL(Time to Live) – 시간 지나면 자동 삭제
- 예: 10분 지나면 캐시 만료

2. LRU(Least Recently Used) – 가장 오래 안 쓴 것부터 제거
- 메모리 한도 있을 때 자주 씀

3. 수동 삭제 (Manual Invalidate)
- DB 업데이트될 때 캐시도 같이 삭제
