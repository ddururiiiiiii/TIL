### **동시성 제어: 세마포어, 뮤텍스**

### **세마포어(Semaphore)**

- 여러 프로세스나 스레드가 공유 리소스에 접근할 때, 동시에 접근할 수 있는 개수를 제어하기 위한 **카운터 역아를 하는 도구**
- **동작 방식:**
    - 세마포어는 초기값(예: 3)을 가지며, 이 값은 동시에 접근 가능한 리소스의 수를 의미함.
    - 스레드가 리소스에 접근하기 전에 세마포어의 값을 **감소(decrement)**시키고, 리소스 사용을 마치면 값을 **증가(increment)**시킴.
    - 세마포어의 값이 0이 되면, 추가적인 스레드는 리소스에 접근하기 위해 **대기**해야 함.

---

### **뮤텍스(Mutex)**

- 단 하나의 스레드만 공유 리소스에 접근할 수 있도록 **배타적 락**(exclusive lock)을 제공하는 동기화 도구
- **동작 방식:**
    - 스레드가 리소스에 접근하기 위해 **잠금(lock)**을 요청하고, 잠금에 성공하면 리소스에 접근할 수 있음.
    - 작업을 마친 후 **해제(unlock)**하여 다른 스레드가 접근할 수 있도록 함.
    - 한 번에 오직 한 스레드만 리소스에 접근할 수 있음.
- **용도 및 예시:** 예를 들어, 여러 스레드가 동시에 하나의 파일에 데이터를 쓰려고 할 때, 뮤텍스를 사용하여 한 번에 한 스레드만 파일에 접근하도록 하여 데이터의 무결성을 보장함.
- **특징:**
    - **배타적 접근:** 락을 획득한 스레드만 리소스에 접근할 수 있음.
    - **소유권 개념:** 락을 획득한 스레드만이 락을 해제할 수 있음.
    - **데드락 주의:** 잘못된 사용으로 인해 여러 스레드가 서로 기다리며 멈추는 상황(데드락)이 발생할 수 있음.

# 세마포어와 뮤텍스의 차이점

- **세마포어:**
    - 공유 리소스에 동시에 접근할 수 있는 최대 개수를 관리하는 카운터임.
    - 여러 스레드가 제한된 리소스를 동시에 사용할 수 있도록 제어함.
- **뮤텍스:**
    - 단 하나의 스레드만 접근할 수 있도록 하는 배타적 락임.
    - 리소스의 무결성을 위해 동시에 하나의 스레드만 접근하도록 보장함.