# 정규화

- 데이터베이스 설계에서 **중복을 제거**하고, **데이터의 일관성을 유지**하기 위해 데이터를 체계적으로 나누는 과정

### **정규화의 단계**
1. **제1정규형 (1NF)**: 테이블의 컬럼 값이 원자값(더 이상 나눌 수 없는 값)을 가져야 함.
    1. 학생 테이블에서 한 학생이 여러 전화번호를 가질 때 이걸 나눔.
2. **제2정규형 (2NF)**: 테이블의 모든 컬럼이 기본 키에 완전히 종속되어야 함.
3. **제3정규형 (3NF)**: 기본 키가 아닌 컬럼은 다른 기본 키가 아닌 컬럼에 종속되지 않아야 함.

- 총 6단계 까지 있지만 실무에서는 3단계, 보이스-코드 정규형까지 적용하는 경우가 많아 3단계까지만 정리.
    - 왜 3단계까지만 주로 사용하는지?
        - 정규화 단계를 높일수록 조인이 많아져서 오히려 조회 성능이 저하 될 수 있고 지나치계 세밀한 분리는 오히려 성능 문제가 더 커짐. 오히려 실무에서는 일부 데이터 중복을 허용하는게 성능 최적화 하는 방법일 때도 있음.
        - 제 3정규형에서 보통 삽입, 갱신, 삭제 이상과 같은 이상현상은 대부분 해결되고 그 이후의 정규형은 특수한 경우에만 적용됨.


### **장점**
- **중복 제거**: 데이터 저장 공간 절약.
- **데이터 일관성 유지**: 중복된 데이터 수정 시 일관성 문제 방지.
- **유지보수 용이**: 변경이 발생해도 데이터 구조를 쉽게 수정 가능.

### **단점**
- **성능 저하**: 과도한 정규화로 인해 테이블이 많아지고, 조인 연산이 많아질 수 있음.
- **복잡한 설계**: 데이터 구조가 복잡해져 이해와 관리가 어려워질 수 있음.

### **현실 세계 비유**
- **정규화 전**: "고객" 테이블에 고객 이름, 주소, 주문 내역을 모두 저장.
    - 고객 주소를 변경하려면 모든 주문 내역에서 해당 주소를 수정해야 함.
- **정규화 후**: "고객"과 "주문" 테이블을 분리.
    - 고객 주소를 변경하면, "고객" 테이블만 수정하면 됨.

(+) 최근엔 오히려 제약조건을 잘 걸지 않음. 정규화를 통해서 중복을 줄여 데이터 저장 공간을 절약하는 장점이 있지만 요즘은 워낙 용량이 커져서 용량 측면에 대한 장점에 대해서 많이 벗어났음.