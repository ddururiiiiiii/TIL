# DB 커넥션 풀(Connection Pool)

## 커텍션 풀을 알기 전에...
- 일반적인 DB 연결 방식은
~~~
DB 연결 열기 (Connection 생성) -> SQL 실행 -> 결과 받기 -> 연결 닫기 (Connection close)
~~~
- 👉 연결을 열고 닫는게 엄청 무겁고 느린데다가 시간도 CPU도 많이 소모한다는 단점이 존재.
- ✅ 그래서 등장한 게 "커넥션 풀"
-  "자주 쓰는 연결들을 미리 만들어서 모아놓고, 돌려 쓰자!"


## 커넥션 풀(Connection Pool)의 흐름
1. 서버 시작할 때, DB 연결을 미리 여러 개 만들어둠 (예: 10개)
2. 클라이언트 요청이 오면 → 풀에서 커넥션 하나 꺼냄
3. 작업 끝나면 → 커넥션을 풀에 다시 반납
4. 다음 요청도 그걸 꺼내 씀

### 반납은 꼭 해야 하나요?
- 종종 실수로 conn.close() 안 하면, 커넥션 풀에 안 돌아가고 누수처럼 계속 커넥션이 고갈될 수 있음.
- 그래서 꼭 "close" 호출로 풀에 돌려줌! (진짜 닫는 게 아니라 반납!)